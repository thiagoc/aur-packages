# Maintainer: thiagoc <root@thiagoc.net>
# https://github.com/thiagoc/aur-packages

pkgname=atraci-bin
pkgver=0.6.0
pkgrel=1
pkgdesc='An application that lets you listen instantly to more than 60 million songs'
arch=('i686' 'x86_64')
url='http://getatraci.net'
license=('MIT')
optdepends=('libudev.so.0: install it if Atraci does not run correctly')
conflicts=('atraci-git')
options=('!strip')
_pkgarch='32'
_md5sum='a3f3ccb0258d6c2820c4b804275c0276'
if [ "${CARCH}" == 'x86_64' ]; then
  _pkgarch='64'
  _md5sum='d00efcf4db1fceebfcf0a84a8dd5a4a4'
fi
source=(https://s3.amazonaws.com/Atraci/linux${_pkgarch}/Atraci.tgz
        atraci.desktop
        atraci.install
        atraci.png)
md5sums=($_md5sum
         'abb9ee963a310dde90b24250163d1e89'
         '57a030ed14fb00d3df2a74bc499680e9'
         'ca605a2dfdec42b086201731c7315daa')

package() {
  cd ${srcdir}
  install -dm 755 ${pkgdir}/opt/${pkgname}
  install -dm 755 ${pkgdir}/usr/bin
  install -Dm 755 Atraci/Atraci ${pkgdir}/opt/${pkgname}
  install -Dm 644 Atraci/libffmpegsumo.so ${pkgdir}/opt/${pkgname}
  install -Dm 644 Atraci/nw.pak ${pkgdir}/opt/${pkgname}
  install -Dm 644 atraci.desktop ${pkgdir}/usr/share/applications/atraci.desktop
  install -Dm 644 atraci.png ${pkgdir}/usr/share/pixmaps/atraci.png
  ln -s /opt/${pkgname}/Atraci ${pkgdir}/usr/bin/atraci
}

# vim:set ts=2 sw=2 et:
